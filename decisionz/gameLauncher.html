<html>
<head> 
	<meta http-equiv="X-UA-Compatible" content="IE=Edge">		
	
	<script type="text/javascript" src="js/decisionz_utils.js"></script>
	
	
	<script type="text/javascript" src="js/html_audio.js"></script>
	
	<script type="text/javascript" src="js/firbug_check.js"></script>
	
	<link type="text/css" href="css/DomRpg.css" rel="stylesheet" />
	
	<link type="text/css" href="lib/jquery_ui/css/smoothness/jquery-ui-1.8.20.custom.css" rel="stylesheet" />
	<script type="text/javascript" src="lib/jquery/jquery-1.7.2.js"></script>
	<script type="text/javascript" src="lib/jquery_ui/js/jquery-ui-1.8.20.custom.min.js"></script>
	<script type="text/javascript" src="lib/jquery.ui.touch-punch.js"></script>
	
	<!--<script type="text/javascript" src="js/decisionz_audio.js"></script>-->

	<script type="text/javascript" src="js/classimation.js"></script>
	 
	<script type="text/javascript" src="gameLauncher.js"></script>
</head>
<body state="main">
	<div id="audios">
		<div id="musicPlayerDiv">
		</div>
		<div id="narrationPlayerDiv">
		</div>
		
		<!--<div id="flashAudioPlayerDiv"></div>
		<div id="htmlAudioPlayerDiv"></div>
		<div id="embeddedAudioPlayerDiv"></div>-->
	</div>
	<div id="fixedBar">
		<div id="toggleMenuBar" onclick="toggleMenuBar()">*</div>
		<div id="menuBar" class="displayNone">
			<div id="bookmarksModeBtn" class="fixedBarBtn" onclick="setState('bookmarks')">bookmarks</div>
			<div id="mainModeBtn" class="fixedBarBtn" onclick="setState('main')">Back</div>
			<div id="setBookmarkBtn" class="fixedBarBtn" onclick="setState('set_bookmark')">set bookmark</div>
			<div id="settingsBtn" class="fixedBarBtn" onclick="setState('settings')">settings</div>
			<div id="devBtn" class="fixedBarBtn" onclick="setState('dev_mode')">dev</div>
		</div>
	</div>
	<div id="bookmarkPanel"></div>
	<div id="devPanel">
		<div id="devTabs">
		  <ul>
		    <li><a href="#tabs-1">General</a></li>
		    <li><a href="#tabs-2">Advanced</a></li>
		  </ul>
		  <div id="tabs-1">
			<p>Dev</p>
			<div id="sendErrorBtn" onclick="sendErrorReport()">Send Error Report</div>
			<p>Load Game State</p>
			<textarea id="errorTextArea"></textarea>
			<div id="loadErrorBtn" onclick="loadGameState()">Load</div>
			<div id="localStorageLength"></div>		  </div>
		  <div id="tabs-2">

		  </div>
		</div>	
	</div>
	<div id="setBookmarkPanel">
		<div id="setBookmark_container">
			<div id="setBookmarkTitle">Bookmark Name</div>
			<div id="bookmarkNameInvalid">Invalid characters in bookmark name. 
							Only alpha numberic characters and spaces allowed.</div>
			<input id="bookmarkName" type="text"></input>
			<div id="setBookmarkSubmit" onclick="setBookmarkOkClicked()">Ok</div>
		</div>
	</div>
	
	<div id="settingsPanel">
		<div id="setTabs">
			  <ul>
			    <li><a href="#set_tabs-1">General</a></li>
			    <li><a href="#set_tabs-2">Narration Log</a></li>
			  </ul>
			  <div id="set_tabs-1">
				<p><input id="checkbox_musicOn" type="checkbox"
							 onclick='musicOnChange()' >Music On<br></p>
				<p><input id="checkbox_narrationAudioOn" type="checkbox"
							 onclick='narrationAudioOnChange()' >Narration Audio On<br></p>  
				<p><input id="checkbox_disableDialog" type="checkbox"
							 onclick='showDialogOnChange()' >Hide Dialog<br></p> 
			  </div>
			  <div id="set_tabs-2">
			  		<div id="narrationLog"></div>
			  </div>
		</div>
	</div>
	<div id="main">
		<div id="devbar">
			<div id="clearLocalStorage"onclick="clearLocalStorage();location.reload()">Reset Game</div>
			<a id="linkToWiki" target="blank">Edit Content</a>
			<a id="linkToJSEditor" href="../../../JSEditor/JSEditor/jsEditor.html" target="blank">JSEdit Config (refresh to reload)</a>
			<a id="linkToConfigFile" href="" target="blank">Edit Config</a>
		</div>

		<div id="titleBar">
			<div id="title">Decisionz</div>
			<div id="statusTxt"></div>
		</div>
		
		<div id="currentTime">Time:</div>
		
		<div id="contentContainer">
			<canvas id="backgroundClickMatteCanvas"></canvas>
			<img id="backgroundImage"></img>
			<img id="backgroundClickMatte" onload="matteLoaded()" onclick="matteClicked(this)"></img>
			<div id="pageContainer" class="stage"></div>
		</div>

		<!--Todo- figure out where this should go-->
		<div id="stageTest" class="stage"></div>
	</div>

	<div id="snippets">
		<div id="iframe_snippet">
			<iframe id="templateIframe"></iframe>
		</div>
		<div id="pageContent_snippet">
			<div id="pageContent"></div>
		</div>
		<div id="decisionVars_defaults_snippet">
			<variable name="bookmarks"></variable>
			<variable name="log"></variable>
			<variable name="remotePageContentURL" value="" ></variable>
			<variable name="narrationAudio" value="false" ></variable>
			<variable name="music" value="false" ></variable>

			<variable name="currentTime" value="0000-00-00 00:00:00" ></variable>
			<variable name="currentBookmark" value="" ></variable>
			<variable name="currentCharacter" value="" ></variable>
			<variable name="currentLocationName" value="" ></variable>
			<variable name="currentSceneName" value="start" zero_length_error ></variable>
			<variable name="currentPageName" value="pageStart" ></variable>
			
			<variable name="previousLocationName" value="" ></variable>
			<variable name="previousSceneName" value="" ></variable>
			<variable name="previousPageName" value="" ></variable>

			<variable name="routes"></variable>
			
			<variable name="activeStages" value="defaultStage" ></variable>
			<variable name="defaultStage"  value='
							{
								"pageContent":"#main #pageContent",
								"currentCharacter":"currentCharacter",
								"currentSceneName":"currentSceneName",
								"previousSceneName":"previousSceneName",
								"currentPageName":"currentPageName",
								"previousPageName":"previousPageName",
								"currentLocationName":"currentLocationName",
								"previousLocationName":"previousLocationName",
								"currentTime":"currentTime"
							}
			' ></variable>


		</div>
	</div>
	<div id="xml"></div>
</body>
</html>